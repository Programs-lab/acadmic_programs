<%= render 'shared/card' do%>
<div class="flex flex-wrap px-4">
  <div class="flex felx-wrap mb-4">
    <div class="w-full">
       <%= link_to(request.referer, class: "btn btn-secondary") do %>
          <%= icon('fas', 'arrow-left', 'Volver a citas') %>
        <% end %>      
    </div>
  </div>
  <div id="appointment_summary" class="flex flex-wrap w-full">
  <div class="w-full px-4 shadow rounded-b py-4 border-t-4 border-primary">

    <div class="w-full px-4 shadow rounded-b py-4">
      <h3>Resumen de cita</h3>
      <br>
      <div class="flex w-full items-center">
        <div class="flex w-1/2 font-black">
          Doctor: <%= " #{@appointment.doctor.first_name} #{@appointment.doctor.last_name}"  %> 
        </div>
        <div class="flex w-1/2">
           <p class="font-bolt">Fecha: {{ $moment("<%= @appointment.appointment_datetime %>").format("MMMM  DD") }}</p>
        </div>
      </div>
      <br>
      <div class="flex w-full items-center">
        <div class="flex w-1/2">
          <p class="font-bolt">Paciente:  <%= " #{@appointment.patient.first_name} #{@appointment.patient.last_name}"  %>
        </div>
        <div class="flex w-1/2">
          Hora de atencion: {{ $moment("<%= @appointment.appointment_datetime %>").format("hh:mm a") }}
        </div>
      </div>
    </div>  
    <div class="divider"></div>
  <div class="flex w-full justify-center items-center">
    <div id="tab_vue">
        <tab-vue :ids="[1,2,3,4,5]">
          <template #1>
            <%= icon('fas','file-alt', class: 'fa-md')%>
            Diagnostico
          </template>
          <template #2>
            <%= icon('fas','list', class: 'fa-md')%>
            Ord Medica
          </template>
          <template #3>
            <%= icon('fas','file', class: 'fa-md')%>
            Sol Examen
          </template>
          <template #4>
            <%= icon('fas','address-book', class: 'fa-md')%>
            Referencias

          </template>
          <template #5>
            <%= icon('fas','wheelchair', class: 'fa-md')%>
            Incapacidad
          </template>
          <template #default_tab>
            <li class="w-full md:w-auto mr-1">
              <%= link_to(appointment_report_path(id: @appointment.appointment_report.id, format: :pdf), target: "_blank", class: "tab-item px-1 #{@appointment.appointment_report.doctor.signature.blank? ? 'disabled' : '' }") do %>
                <%= icon('fas', 'file-pdf', '') %>
              <% end %>
            </li>
          </template>
          <template #content1>
            <div class="flex w-full border-t-4 border-primary rounded-t">
              <textarea class="content-no-editable">
                <%= @appointment.appointment_report.diagnosis %>
              </textarea>
            </div>
          </template>
          <template #content2>
            <div class="flex w-full border-t-4 border-primary rounded-t">
              <textarea class="content-no-editable">
                <%= @appointment.appointment_report.medical_order %>
              </textarea>
            </div>
          </template>
          <template #content3>
            <div class="flex w-full border-t-4 border-primary rounded-t">
              <textarea class="content-no-editable">
                <%= @appointment.appointment_report.examination_request %>
              </textarea>
            </div>
          </template>
          <template #content4>
            <div class="flex w-full border-t-4 border-primary rounded-t">
              <textarea class="content-no-editable">
                <%= @appointment.appointment_report.reference %>
              </textarea>
            </div>
          </template>
          <template #content5>
            <div class="flex w-full border-t-4 border-primary rounded-t">
              <textarea class="content-no-editable">
                <%= @appointment.appointment_report.medical_disability %>
              </textarea>
            </div>
          </template>
          <template #content6>
            <div class="flex w-full justify-center">
              <div class="flex w-full justify-center">
                <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
              </div>
            </div>
          </template>
        </tab-vue>
      </div>
  </div>
</div>
</div>
</div>
<% end %>
