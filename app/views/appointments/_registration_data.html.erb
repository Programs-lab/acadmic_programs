<div class="flex flex-wrap -mx-3 mb-5">
  <div id="idTypeField" class="w-full md:w-1/2 px-3 mb-5 md:mb-0 focus_form">
    <div class="flex items-center w-full">
    <%= f.label :tipo_de_documento, class: 'label_input' %>
      <div class="obligatory"></div>
    </div>
    <div class="">
      <%=
      f.collection_select(
        :id_type,
        ID_TYPES,
        :last,
        :first,
        {include_blank: true},
        {
          class: "block appearance-none w-full border-b text-grey-darker md:px-4 pr-8 focus:outline-none bg-white focus:border-grey h-8","v-model" => 'idType', "@change" => "fieldClass('idTypeField', $v.idType.$invalid), $v.idType.$touch()"
        }
      )
      %>
    </div>
    <div class="error_form">
      <i class="fas fa-exclamation-circle mr-1"></i>
      <span>El campo es obligatorio.</span>
    </div>
  </div>
  <div id="idNumberField" class="w-full md:w-1/2 px-3 focus_form">
    <div class="flex items-center w-full">
    <%= f.label "N° de documento", class: 'label_input' %>
      <div class="obligatory"></div>
    </div>
    <%= f.number_field :id_number, class: 'field_input rounded-t', "v-model" => 'idNumber', "@input" => "fieldClass('idNumberField', $v.idNumber.$invalid), $v.idNumber.$touch()" %>
    <div class="error_form">
      <i class="fas fa-exclamation-circle mr-1"></i>
      <span>El campo es obligatorio.</span>
    </div>
  </div>
</div>
<div v-if="patient != ''">
  <div class="flex flex-wrap -mx-3 mb-5">
    <div id= "firstNameField" class="w-full md:w-1/2 px-3 mb-5 md:mb-0 focus_form">
      <div class="flex items-center w-full">
        <%= f.label :nombre, class: 'label_input' %>
        <div class="obligatory"></div>
      </div>
      <%= f.text_field :first_name, class: 'field_input rounded-t', "v-model" => "firstNameValue", "@input" => "fieldClass('firstNameField', $v.firstNameValue.$invalid), $v.firstNameValue.$touch()" %>
      <div class="error_form">
        <i class="fas fa-exclamation-circle mr-1"></i>
        <span>El campo es obligatorio.</span>
      </div>
    </div>
    <div id= "lasttNameField" class="w-full md:w-1/2 px-3 focus_form">
      <div class="flex items-center w-full">
        <%= f.label :apellido, class: 'label_input' %>
        <div class="obligatory"></div>
      </div>
      <%= f.text_field :last_name, class: 'field_input rounded-t', "v-model" => "lastNameValue", "@input" => "fieldClass('lasttNameField', $v.lastNameValue.$invalid), $v.lastNameValue.$touch()" %>
      <div class="error_form">
        <i class="fas fa-exclamation-circle mr-1"></i>
        <span>El campo es obligatorio.</span>
      </div>
    </div>
  </div>
  <div class="flex flex-wrap -mx-3 mb-5">
    <div class="w-full md:w-1/2 px-3 mb-5 md:mb-0 focus_form">
      <%= f.label "Telefono", class: 'label_input' %>
      <%= f.number_field :phone_number, class: 'field_input rounded-t', "v-model" => 'phoneNumber' %>
    </div>
    <div class="w-full md:w-1/2 px-3 ">
       <%= f.label "Empresa de afiliación", class: 'label_input' %>
       <%= f.collection_select(
          :company_id,
          Company.all,
          :id,
          :company_name,
          { include_blank: true },
          {
            class: "block appearance-none w-full border-b text-grey-darker py-3 focus:outline-none bg-white focus:border-grey h-8", "v-model" => 'company_id'
          }
       ) %>
    </div>
  </div>
  <div class="flex flex-wrap -mx-3 mb-5">
    <div class="w-full md:w-1/2 px-3 mb-5 md:mb-0 focus_form">
      <%= f.label "Ocupación", class: 'label_input' %>
      <%= f.text_field :occupation, class: 'field_input rounded-t', "v-model" => "occupation" %>
    </div>
    <div class="w-full md:w-1/2 px-3 focus_form">
      <%= f.label "Fecha de nacimiento", class: 'label_input' %>
      <datepicker input-class="field_input rounded-t" :language="es" v-model="birthdateValue" :value='birthdateValue'></datepicker>
      <%= f.hidden_field :birthdate, {"v-model" => "birthdateValue"} %>
    </div>
  </div>
  <div class="flex flex-wrap -mx-3 mb-5">
    <div class="w-full px-3 focus_form">
      <%= f.label "Dirreción", class: 'label_input' %>
      <%= f.text_field :address, class: 'field_input rounded-t', "v-model" => "address" %>
    </div>
  </div>
  <div class="flex flex-wrap -mx-3 mb-5">
    <div id= "emailField" class="w-full px-3 focus_form">
      <div class="flex items-center w-full">
        <%= f.label :email, class: 'label_input' %>
        <div class="obligatory"></div>
      </div>
      <%= f.email_field :email, autocomplete: "email", class: 'field_input rounded-t', "v-model" => "emailValue", "@input" => "fieldClass('emailField', $v.emailValue.$invalid), $v.emailValue.$touch()" %>
      <div class="error_form">
        <i class="fas fa-exclamation-circle mr-1"></i>
        <span>Debe ser un email valido.</span>
      </div>
    </div>
  </div>
</div>
<div v-if="patient != '' && patient == null">
  <div class="flex flex-wrap -mx-3 mb-6">
    <div id= "passwordField" class="w-full px-3 focus_form">
      <div class="flex items-center w-full">
        <%= f.label :contraseña, class: 'label_input' %>
        <div class="obligatory"></div>
      </div>
      <%= f.password_field :password, class: 'field_input rounded-t', "v-model" => "passwordValue", "@input" => "fieldClass('passwordField', $v.passwordValue.$invalid), $v.passwordValue.$touch()" %>
      <div class="error_form">
        <i class="fas fa-exclamation-circle mr-1"></i>
        <span>Debe tener minimo 8 caracteres.</span>
      </div>
    </div>
  </div>
  <div class="flex flex-wrap -mx-3 mb-6">
    <div id= "passwordConfirmationField" class="w-full px-3 focus_form">
      <div class="flex items-center w-full">
        <%= f.label :confirmar_contraseña, class: 'label_input' %>
        <div class="obligatory"></div>
      </div>
      <%= f.password_field :password_confirmation, class: 'field_input rounded-t', "v-model" => "passwordConfirmationValue", "@input" => "fieldClass('passwordConfirmationField', $v.passwordConfirmationValue.$invalid), $v.passwordConfirmationValue.$touch()"%>
      <div class="error_form">
        <i class="fas fa-exclamation-circle mr-1"></i>
        <span>Debe ser igual a la contraseña</span>
      </div>
    </div>
  </div>
</div>
